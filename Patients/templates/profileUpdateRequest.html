{% include 'navbar.html' %}
{% load encrypt%}

<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <style>




.card-header {
    background-color: rgb(245,245,245,0.3)!important;
	border-radius:0!important;
}
.card{
border-radius:0!important;
}

.card > .card-header a::before {
    font-family: fontawesome;
    content: "\f067 ";
    color: #282425;
    float: right;
    margin-right: 40px;
    font-weight: 400;
    position: absolute;
    right: 0;
}
    </style>

</head>
{{appointmentForm.media}}

<div class="content-wrapper">
    <section class="content">
        <div class="container-fluid">

            {% if messages %}
            <ul class="messages" style="padding:3px">
                {% for message in messages %}
                <p style="padding:3px;font-weight:600; font-size:13px" {% if message.tags %} class="{{ message.tags }}"
                    {% endif %}>
                    {{ message }}</p>
                {% endfor %}
            </ul>
            {% endif %}


            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#profile">Profile</a></li>
                <li class="active"><a data-toggle="tab" href="#request">Contact Details for Assistance</a></li>
              
            </ul>
            <div class="tab-content">
                <div id="profile" class="tab-pane fade in active">
                    <h3>User Profile</h3>
                    <div class="list-group">
                        <p class="list-group-item">  Name : {{patientDetails.patient_name}}</p>
                        <p  class="list-group-item"> Age : {{patientDetails.patient_age}}</p>
                        <p  class="list-group-item"> Weight : {{patientDetails.patient_weight}}</p>
                        <p  class="list-group-item"> Height : {{patientDetails.patient_height}}</p>
                        <p  class="list-group-item"> Address : {{patientDetails.patient_address}}</p>
                        <p  class="list-group-item"> Phone number : {{patientDetails.patient_phone_no}}</p>
                        <p  class="list-group-item"> Email : {{patientDetails.patient_email}}</p>
                        <p  class="list-group-item"> <a href="/patient/home/{{k|patient_id_encrypt_tag:id}}" ><button class="btn btn-warning" >Back to Home</button></a> </p>
                    </div>


                    {%if patientDetails.change_request_status == 1%}
                    <h5>Pending Requests</h5>
                    <table id="data" class="table table-striped table-bordered com  `[]
                    pact" cellspacing="0" style="width:100%">
                        <thead>
                        <tr>
                            <th>Info</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                       
                        
                        <tr>
                            <td width="5%">{{patientDetails.request_info}}</td>

                            <td width="10%">Pending</td>                  
                        </tr>
                       
                        
                        </tbody>
                    </table>
                    {%elif patientDetails.change_request_status == 2%}

                    <h5>Completed Requests</h5>
                    <table id="data" class="table table-striped table-bordered compact" cellspacing="0" style="width:100%">
                        <thead>
                        <tr>
                            <th>Info</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                       
                      
                        <tr>
                            <td width="5%">{{patientDetails.request_info}}</td>
                            <td width="10%">Completed</td>                  
                        </tr>
                       
                        
                        </tbody>
                    </table>
                    {%endif%}

         
 

                    <form method="POST" role="form" id="form-client-info">
                        {%csrf_token%}
                        
                        <div class="form-group" style="margin-bottom:10px;margin-top:30px;">
                            <label>Request the field you want to update (with the value):</label>
                            <input name="request_info"
                                    style="width:50%; font-size:15px">
                               
                        </input>
                        </div>
                        <button type="submit" class="btn btn-primary">Request Change</button>
                        </form> 
                    

                </div>
                <div id="request" class="tab-pane fade in active">
                    <h3>Contact for Assistance</h3>
                    <div class="list-group">
                        <p class="list-group-item">  Contact Number : 4567890987</p>
                        <p  class="list-group-item"> Email id : shs@gmail.com </p>
                    </div>

                    <div class="container">
                        
                        <div class="row">
                            <div class="col-sm-12">
                                <ul class="nav nav-tabs">
                                    <li ><a data-toggle="tab" href="#tab1" aria-selected="true" class="active">FAQ</a></li>
                                  
                                </ul>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                
                                <div class="tab-content">
                                    <div id="tab1" class="tab-pane fade show active">
                                        <div class="accordion">
                                            <div class="card">
                                                <div class="card-header" id="infraOne">
                                                    <a href="#collapseOne" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                                        <p class="mb-0">
                                                            How to Book Appointment
                                                        </p>
                                                    </a>
                                                </div>
                                                <div id="collapseOne" class="collapse" aria-labelledby="infraOne" data-parent="#accordion">
                                                    <div class="card-body">
                                                    A User can book the appointment by navigating to the side bar and selecting the Book Appointment from the menu. 
                                                    Add Firstname, Lastname, Requested Date and you can opt a doctor or can book a general Appointment from the dropdown
                                                    </div>
                                                </div>
                                            </div><!-- close card-->
                                            <div class="card">
                                                <div class="card-header" id="infraTwo">
                                                    <a href="#collapseTwo" class="collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                      <p class="mb-0">How to Update Appointment</p>
                                                    </a>
                                                </div>
                                                <div id="collapseTwo" class="collapse" aria-labelledby="infraTwo" data-parent="#accordion">
                                                    <div class="card-body">
                                                    After Navigating to the Book Appointment from the Side Menu, there are two tabs - Book Appoinment and View appointments
                                                    Select View Appointments and you can view a edit icon for pending records. You cannot update the confirmed appointments but can be 
                                                    cancelled.
                                                    </div>
                                                </div>
                                            </div><!-- card-->
                                            <div class="card">
                                                <div class="card-header" id="infraThree">
                                                    <a href="#collapseThree" class="collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                        <p class="mb-0">How to update Personal Info</p>
                                                    </a>
                                                </div>
                                                <div id="collapseThree" class="collapse" aria-labelledby="infraThree" data-parent="#accordion">
                                                    <div class="card-body">
                                                   A request to change the personal info can be done from the Contact in the top menu bar.
                                                   Hospotal STaff will recieve your request and then update the changes
                                                </div>
                                            </div><!-- card-->

                                            <div class="card">
                                                <div class="card-header" id="infraThree">
                                                    <a href="#collapseThree" class="collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                        <p class="mb-0">How to Cancel Appointment</p>
                                                    </a>
                                                </div>
                                                <div id="collapseThree" class="collapse" aria-labelledby="infraThree" data-parent="#accordion">
                                                    <div class="card-body">
                                                     A Appointment can be cancelled only after the confirmation. That can be done from the Book Appoinmnet menu from the nav bar
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- accordion-->
                                    </div><!-- tab 1-->
                                
                              </div><!-- tab content-->
                            </div>
                        </div>
                    </div>
                   


                 
                    

                </div>
                
            </div>
        </div>



</div>
</section>
</div>


<script>
    (function () {
        window.onpageshow = function(event) {
            if (event.persisted) {
                window.location.reload();
            }
        };
    })();
</script>
